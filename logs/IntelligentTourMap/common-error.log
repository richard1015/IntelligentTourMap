2019-03-13 10:42:44,694 ERROR 23946 [-/127.0.0.1/-/10ms GET /user] nodejs.TypeError: this.ctx.getMongodb is not a function
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:8:18)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at /Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:36:12

pid: 23946
hostname: richard-MacBook-Pro.local

2019-03-13 11:22:24,252 ERROR 26848 nodejs.ClusterClientNoResponseError: client no response in 78931ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 26848
hostname: richard-MacBook-Pro.local

2019-03-13 11:31:06,975 ERROR 27523 [-/127.0.0.1/-/10258ms GET /user] nodejs.ReferenceError: ctx is not defined
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:26)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at /Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:36:12

pid: 27523
hostname: richard-MacBook-Pro.local

2019-03-13 11:31:10,830 ERROR 27523 [-/127.0.0.1/-/3779ms GET /user] nodejs.ReferenceError: ctx is not defined
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:26)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at /Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:36:12

pid: 27523
hostname: richard-MacBook-Pro.local

2019-03-13 13:15:52,198 ERROR 27522 nodejs.ClusterClientNoResponseError: client no response in 77445ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 27522
hostname: richard-MacBook-Pro.local

2019-03-13 13:20:23,825 ERROR 30006 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:11:39)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30006
hostname: richard-MacBook-Pro.local

2019-03-13 13:20:38,959 ERROR 30006 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:11:39)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30006
hostname: richard-MacBook-Pro.local

2019-03-13 13:20:51,139 ERROR 30024 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:11:39)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30024
hostname: richard-MacBook-Pro.local

2019-03-13 13:21:04,902 ERROR 30061 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:11:39)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30061
hostname: richard-MacBook-Pro.local

2019-03-13 13:21:06,205 ERROR 30061 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:11:39)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30061
hostname: richard-MacBook-Pro.local

2019-03-13 13:21:29,198 ERROR 30061 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:11:39)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30061
hostname: richard-MacBook-Pro.local

2019-03-13 13:22:54,541 ERROR 30132 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:11:37)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30132
hostname: richard-MacBook-Pro.local

2019-03-13 13:22:55,215 ERROR 30132 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:11:37)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30132
hostname: richard-MacBook-Pro.local

2019-03-13 13:24:31,140 ERROR 30242 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:12:37)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30242
hostname: richard-MacBook-Pro.local

2019-03-13 13:25:51,601 ERROR 30234 nodejs.ClusterClientNoResponseError: client no response in 65895ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 30234
hostname: richard-MacBook-Pro.local

2019-03-13 13:29:25,847 ERROR 30325 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:12:37)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30325
hostname: richard-MacBook-Pro.local

2019-03-13 13:30:39,317 ERROR 30571 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:12:37)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30571
hostname: richard-MacBook-Pro.local

2019-03-13 13:32:14,640 ERROR 30842 nodejs.ClusterClientNoResponseError: client no response in 78938ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 30842
hostname: richard-MacBook-Pro.local

2019-03-13 13:33:21,484 ERROR 30850 nodejs.TypeError: db.collection is not a function
    at app.getMongodb.then.db (/Users/richard/github/IntelligentTourMap/app/service/user.js:12:37)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 30850
hostname: richard-MacBook-Pro.local

2019-03-13 13:56:29,223 ERROR 31849 nodejs.TypeError: Cannot read property 'close' of undefined (uncaughtException throw 1 times on pid:31849)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:19:28
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 31849
hostname: richard-MacBook-Pro.local

2019-03-13 13:58:16,606 ERROR 32081 nodejs.TypeError: Cannot read property 'close' of undefined (uncaughtException throw 1 times on pid:32081)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:19:28
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 32081
hostname: richard-MacBook-Pro.local

2019-03-13 14:00:38,084 ERROR 32272 nodejs.TypeError: Cannot read property 'close' of undefined (uncaughtException throw 1 times on pid:32272)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:19:28
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 32272
hostname: richard-MacBook-Pro.local

2019-03-13 14:00:44,245 ERROR 32337 nodejs.TypeError: Cannot read property 'close' of undefined (uncaughtException throw 1 times on pid:32337)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:19:28
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 32337
hostname: richard-MacBook-Pro.local

2019-03-13 14:01:47,613 ERROR 32738 nodejs.TypeError: Cannot read property 'close' of undefined (uncaughtException throw 1 times on pid:32738)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:19:28
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 32738
hostname: richard-MacBook-Pro.local

2019-03-13 14:06:08,115 ERROR 33287 [-/127.0.0.1/-/29ms GET /user] nodejs.TypeError: Cannot read property 'find' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/user.js:17:24)
    at new Promise (<anonymous>)
    at UserService.list (/Users/richard/github/IntelligentTourMap/app/service/user.js:15:22)
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:50)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)

pid: 33287
hostname: richard-MacBook-Pro.local

2019-03-13 14:06:46,047 ERROR 33308 [-/127.0.0.1/-/18ms GET /user] nodejs.TypeError: Cannot read property 'find' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/user.js:17:24)
    at new Promise (<anonymous>)
    at UserService.list (/Users/richard/github/IntelligentTourMap/app/service/user.js:15:22)
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:50)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)

pid: 33308
hostname: richard-MacBook-Pro.local

2019-03-13 14:06:47,024 ERROR 33308 [-/127.0.0.1/-/5ms GET /user] nodejs.TypeError: Cannot read property 'find' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/user.js:17:24)
    at new Promise (<anonymous>)
    at UserService.list (/Users/richard/github/IntelligentTourMap/app/service/user.js:15:22)
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:50)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)

pid: 33308
hostname: richard-MacBook-Pro.local

2019-03-13 14:07:16,650 ERROR 33332 [-/127.0.0.1/-/20ms GET /user] nodejs.TypeError: Cannot read property 'find' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/user.js:17:24)
    at new Promise (<anonymous>)
    at UserService.list (/Users/richard/github/IntelligentTourMap/app/service/user.js:15:22)
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:50)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)

pid: 33332
hostname: richard-MacBook-Pro.local

2019-03-13 14:07:17,790 ERROR 33332 [-/127.0.0.1/-/6ms GET /user] nodejs.TypeError: Cannot read property 'find' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/user.js:17:24)
    at new Promise (<anonymous>)
    at UserService.list (/Users/richard/github/IntelligentTourMap/app/service/user.js:15:22)
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:50)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)

pid: 33332
hostname: richard-MacBook-Pro.local

2019-03-13 14:07:43,335 ERROR 33356 [-/127.0.0.1/-/16ms GET /user] nodejs.TypeError: Cannot read property 'find' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/user.js:17:28)
    at new Promise (<anonymous>)
    at UserService.list (/Users/richard/github/IntelligentTourMap/app/service/user.js:15:22)
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:50)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)

pid: 33356
hostname: richard-MacBook-Pro.local

2019-03-13 14:08:13,465 ERROR 33407 [-/127.0.0.1/-/21ms GET /user] nodejs.TypeError: Cannot read property 'find' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/user.js:17:28)
    at new Promise (<anonymous>)
    at UserService.list (/Users/richard/github/IntelligentTourMap/app/service/user.js:15:22)
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:50)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)

pid: 33407
hostname: richard-MacBook-Pro.local

2019-03-13 14:09:26,221 ERROR 33482 [-/127.0.0.1/-/19ms GET /user] nodejs.TypeError: Cannot read property 'find' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/user.js:17:28)
    at new Promise (<anonymous>)
    at UserService.list (/Users/richard/github/IntelligentTourMap/app/service/user.js:15:22)
    at UserController.index (/Users/richard/github/IntelligentTourMap/app/controller/user.js:7:50)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)

pid: 33482
hostname: richard-MacBook-Pro.local

2019-03-13 14:21:22,728 ERROR 33279 nodejs.ClusterClientNoResponseError: client no response in 74714ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 33279
hostname: richard-MacBook-Pro.local

2019-03-13 15:26:45,535 ERROR 35919 nodejs.ClusterClientNoResponseError: client no response in 65090ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 35919
hostname: richard-MacBook-Pro.local

2019-03-13 15:28:51,922 ERROR 36163 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:36163)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:44:21
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at session.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:400:37)
    at ClientSession.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/sessions.js:129:41)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:397:17)
    at bulk.execute (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:162:5)
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at executeCommands (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/bulk/ordered.js:138:12)

pid: 36163
hostname: richard-MacBook-Pro.local

2019-03-13 15:54:46,992 ERROR 37277 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:37277)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:35:25
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at session.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:401:11)
    at ClientSession.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/sessions.js:129:41)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:397:17)
    at updateCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1362:3)
    at updateDocuments (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1451:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at coll.s.topology.update (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1416:5)
    at /Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/connection/pool.js:532:18

pid: 37277
hostname: richard-MacBook-Pro.local

2019-03-13 15:56:19,379 ERROR 37242 nodejs.ClusterClientNoResponseError: client no response in 72367ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 37242
hostname: richard-MacBook-Pro.local

2019-03-13 15:58:17,216 ERROR 37695 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:37695)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:35:25
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at session.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:401:11)
    at ClientSession.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/sessions.js:129:41)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:397:17)
    at updateCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1362:3)
    at updateDocuments (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1451:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at coll.s.topology.update (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1416:5)
    at /Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/connection/pool.js:532:18

pid: 37695
hostname: richard-MacBook-Pro.local

2019-03-13 15:59:49,523 ERROR 37747 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:37747)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:35:25
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at session.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:401:11)
    at ClientSession.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/sessions.js:129:41)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:397:17)
    at updateCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1362:3)
    at updateDocuments (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1451:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at coll.s.topology.update (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1416:5)
    at /Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/connection/pool.js:532:18

pid: 37747
hostname: richard-MacBook-Pro.local

2019-03-13 15:59:49,507 ERROR 37669 nodejs.ClusterClientNoResponseError: client no response in 69631ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 37669
hostname: richard-MacBook-Pro.local

2019-03-13 16:01:07,794 ERROR 37812 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:37812)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:35:25
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at session.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:401:11)
    at ClientSession.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/sessions.js:129:41)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:397:17)
    at updateCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1362:3)
    at updateDocuments (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1451:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at coll.s.topology.update (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1416:5)
    at /Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/connection/pool.js:532:18

pid: 37812
hostname: richard-MacBook-Pro.local

2019-03-13 16:01:07,807 ERROR 37812 nodejs.ServerNoResponseError: server 127.0.0.1:54518 no response in 20964ms, maybe the socket is end on the other side. (address: 127.0.0.1:54518)
    at Timeout._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/tcp-base/lib/base.js:427:21)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ServerNoResponseError"
pid: 37812
hostname: richard-MacBook-Pro.local

2019-03-13 16:01:18,750 ERROR 37835 nodejs.ReferenceError: reject is not defined (uncaughtException throw 1 times on pid:37835)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:32:34
    at err (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:415:14)
    at session.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:399:27)
    at ClientSession.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/sessions.js:129:41)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:397:17)
    at updateCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1351:19)
    at updateDocuments (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1451:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at coll.s.topology.update (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1414:14)
    at /Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/connection/pool.js:532:18

pid: 37835
hostname: richard-MacBook-Pro.local

2019-03-13 16:02:29,531 ERROR 37669 nodejs.ClusterClientNoResponseError: client no response in 60445ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 37669
hostname: richard-MacBook-Pro.local

2019-03-13 16:04:49,553 ERROR 37669 nodejs.ClusterClientNoResponseError: client no response in 75501ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 37669
hostname: richard-MacBook-Pro.local

2019-03-13 16:09:28,509 ERROR 37916 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:37916)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:36:25
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at session.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:401:11)
    at ClientSession.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/sessions.js:129:41)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:397:17)
    at updateCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1362:3)
    at updateDocuments (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1451:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at coll.s.topology.update (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1416:5)
    at /Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/connection/pool.js:532:18

pid: 37916
hostname: richard-MacBook-Pro.local

2019-03-13 16:09:28,520 ERROR 37916 nodejs.ServerNoResponseError: server 127.0.0.1:54518 no response in 28270ms, maybe the socket is end on the other side. (address: 127.0.0.1:54518)
    at Timeout._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/tcp-base/lib/base.js:427:21)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ServerNoResponseError"
pid: 37916
hostname: richard-MacBook-Pro.local

2019-03-13 16:11:09,899 ERROR 38112 nodejs.ReferenceError: reject is not defined (uncaughtException throw 1 times on pid:38112)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:32:34
    at err (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:415:14)
    at session.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:399:27)
    at ClientSession.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/sessions.js:129:41)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:397:17)
    at updateCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1351:19)
    at updateDocuments (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1451:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at coll.s.topology.update (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1414:14)
    at /Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/connection/pool.js:532:18

pid: 38112
hostname: richard-MacBook-Pro.local

2019-03-13 16:13:16,229 ERROR 38211 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:38211)
    at /Users/richard/github/IntelligentTourMap/app/service/user.js:36:25
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at session.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:401:11)
    at ClientSession.endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/sessions.js:129:41)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:397:17)
    at updateCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1362:3)
    at updateDocuments (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1451:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at coll.s.topology.update (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/collection_ops.js:1416:5)
    at /Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/connection/pool.js:532:18

pid: 38211
hostname: richard-MacBook-Pro.local

2019-03-13 16:23:30,583 ERROR 38750 [-/127.0.0.1/-/49107ms DELETE /user/destroy/5c88b080a96af48d4324ba16] nodejs.TypeError: Cannot read property 'id' of undefined
    at UserController.destroy (/Users/richard/github/IntelligentTourMap/app/controller/user.js:19:30)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at /Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:36:12

pid: 38750
hostname: richard-MacBook-Pro.local

2019-03-13 16:52:15,797 ERROR 40163 [-/127.0.0.1/-/2ms DELETE /user/destroy/5c88b080a96af48d4324ba16] nodejs.ReferenceError: params is not defined
    at UserService.destroy (/Users/richard/github/IntelligentTourMap/app/service/user.js:47:48)
    at UserController.destroy (/Users/richard/github/IntelligentTourMap/app/controller/user.js:18:50)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)

pid: 40163
hostname: richard-MacBook-Pro.local

2019-03-14 09:26:04,583 ERROR 48727 [-/127.0.0.1/-/1ms GET /] nodejs.ENOENTError: ENOENT: no such file or directory, scandir '/Users/richard/github/IntelligentTourMap/app/contract'
    at Object.fs.readdirSync (fs.js:904:18)
    at contractLoader (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:39:20)
    at generateContract (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:25:3)
    at Object.getDefinitions (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:179:7)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:45:30)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
errno: -2
code: "ENOENT"
syscall: "scandir"
path: "/Users/richard/github/IntelligentTourMap/app/contract"
name: "ENOENTError"
pid: 48727
hostname: richard-MacBook-Pro.local

2019-03-14 10:45:50,881 ERROR 52325 [-/127.0.0.1/-/6ms GET /user/query] nodejs.ReferenceError: ctx is not defined
    at UserController.query (/Users/richard/github/IntelligentTourMap/app/controller/user.js:17:32)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at /Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:36:12

pid: 52325
hostname: richard-MacBook-Pro.local

2019-03-14 10:54:12,002 ERROR 52588 [-/127.0.0.1/-/0ms GET /] nodejs.Error: [egg-swagger-doc] error at get:/school/query ,the type of response parameter does not exit
    at generateResponse (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:362:17)
    at getTag_Path (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:131:35)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:50:14)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
    at _combinedTickCallback (internal/process/next_tick.js:131:7)
    at process._tickCallback (internal/process/next_tick.js:180:9)

pid: 52588
hostname: richard-MacBook-Pro.local

2019-03-14 10:54:47,673 ERROR 52613 [-/127.0.0.1/-/0ms GET /] nodejs.Error: [egg-swagger-doc] error at get:/school/query ,the type of response parameter does not exit
    at generateResponse (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:362:17)
    at getTag_Path (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:131:35)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:50:14)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
    at _combinedTickCallback (internal/process/next_tick.js:131:7)
    at process._tickCallback (internal/process/next_tick.js:180:9)

pid: 52613
hostname: richard-MacBook-Pro.local

2019-03-14 10:55:23,333 ERROR 52640 [-/127.0.0.1/-/1ms GET /] nodejs.Error: [egg-swagger-doc] error at get:/school/query ,the type of response parameter does not exit
    at generateResponse (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:362:17)
    at getTag_Path (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:131:35)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:50:14)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
    at _combinedTickCallback (internal/process/next_tick.js:131:7)
    at process._tickCallback (internal/process/next_tick.js:180:9)

pid: 52640
hostname: richard-MacBook-Pro.local

2019-03-14 11:00:54,843 ERROR 52880 [-/127.0.0.1/-/0ms GET /] nodejs.Error: [egg-swagger-doc] app/contract/model.js: listResponse.arrays.itemType is necessary
    at buildDefinition (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:97:17)
    at Object.getDefinitions (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:183:23)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:45:30)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
    at _combinedTickCallback (internal/process/next_tick.js:131:7)
    at process._tickCallback (internal/process/next_tick.js:180:9)

pid: 52880
hostname: richard-MacBook-Pro.local

2019-03-14 11:02:46,885 ERROR 52955 [-/127.0.0.1/-/1ms GET /] nodejs.Error: [egg-swagger-doc] app/contract/model.js: listResponse.arrays.itemType is necessary
    at buildDefinition (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:97:17)
    at Object.getDefinitions (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:183:23)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:45:30)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
    at _combinedTickCallback (internal/process/next_tick.js:131:7)
    at process._tickCallback (internal/process/next_tick.js:180:9)

pid: 52955
hostname: richard-MacBook-Pro.local

2019-03-14 11:02:48,241 ERROR 52963 [-/127.0.0.1/-/1ms GET /] nodejs.Error: [egg-swagger-doc] app/contract/model.js: listResponse.arrays.itemType is necessary
    at buildDefinition (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:97:17)
    at Object.getDefinitions (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:183:23)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:45:30)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
    at _combinedTickCallback (internal/process/next_tick.js:131:7)
    at process._tickCallback (internal/process/next_tick.js:180:9)

pid: 52963
hostname: richard-MacBook-Pro.local

2019-03-14 11:03:18,955 ERROR 52985 [-/127.0.0.1/-/0ms GET /] nodejs.Error: [egg-swagger-doc] app/contract/model.js: listResponse.arrays.itemType is necessary
    at buildDefinition (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:97:17)
    at Object.getDefinitions (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:183:23)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:45:30)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
    at _combinedTickCallback (internal/process/next_tick.js:131:7)
    at process._tickCallback (internal/process/next_tick.js:180:9)

pid: 52985
hostname: richard-MacBook-Pro.local

2019-03-14 11:03:25,656 ERROR 53045 [-/127.0.0.1/-/0ms GET /] nodejs.Error: [egg-swagger-doc] app/contract/model.js: listResponse.arrays.itemType is necessary
    at buildDefinition (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:97:17)
    at Object.getDefinitions (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/contract/index.js:183:23)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:45:30)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
    at _combinedTickCallback (internal/process/next_tick.js:131:7)
    at process._tickCallback (internal/process/next_tick.js:180:9)

pid: 53045
hostname: richard-MacBook-Pro.local

2019-03-14 11:08:57,985 ERROR 53248 [-/127.0.0.1/-/1ms GET /] nodejs.Error: [egg-swagger-doc] error at get:/school/query ,the type of response parameter does not exit
    at generateResponse (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:362:17)
    at getTag_Path (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:131:35)
    at buildDocument (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:50:14)
    at documentInit (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/document/index.js:459:7)
    at module.exports.swaggerInit.app (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/lib/index.js:10:3)
    at app.beforeStart (/Users/richard/github/IntelligentTourMap/node_modules/egg-swagger-doc/app.js:8:5)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:42)
    at process.nextTick (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/lifecycle.js:248:13)
    at _combinedTickCallback (internal/process/next_tick.js:131:7)
    at process._tickCallback (internal/process/next_tick.js:180:9)

pid: 53248
hostname: richard-MacBook-Pro.local

2019-03-14 11:28:31,500 ERROR 53880 nodejs.ClusterClientNoResponseError: client no response in 69789ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 53880
hostname: richard-MacBook-Pro.local

2019-03-14 11:29:25,064 ERROR 54149 nodejs.ReferenceError: User is not defined (uncaughtException throw 1 times on pid:54149)
    at /Users/richard/github/IntelligentTourMap/app/service/base.js:23:38
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 54149
hostname: richard-MacBook-Pro.local

2019-03-14 15:52:39,771 ERROR 60047 nodejs.ClusterClientNoResponseError: client no response in 73153ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 60047
hostname: richard-MacBook-Pro.local

2019-03-14 16:14:27,964 ERROR 61329 nodejs.TypeError: Cannot read property 'count' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/base.js:18:24)
    at new Promise (<anonymous>)
    at SchoolService.getConllectionCount (/Users/richard/github/IntelligentTourMap/app/service/base.js:17:16)
    at SchoolService._list (/Users/richard/github/IntelligentTourMap/app/service/base.js:26:37)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 61329
hostname: richard-MacBook-Pro.local

2019-03-14 16:14:41,219 ERROR 61329 nodejs.TypeError: Cannot read property 'count' of undefined
    at Promise (/Users/richard/github/IntelligentTourMap/app/service/base.js:18:24)
    at new Promise (<anonymous>)
    at SchoolService.getConllectionCount (/Users/richard/github/IntelligentTourMap/app/service/base.js:17:16)
    at SchoolService._list (/Users/richard/github/IntelligentTourMap/app/service/base.js:26:37)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 61329
hostname: richard-MacBook-Pro.local

2019-03-14 16:15:16,864 ERROR 61358 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:61358)
    at /Users/richard/github/IntelligentTourMap/app/service/base.js:30:13
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 61358
hostname: richard-MacBook-Pro.local

2019-03-14 16:15:46,633 ERROR 61398 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:61398)
    at /Users/richard/github/IntelligentTourMap/app/service/base.js:31:13
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 61398
hostname: richard-MacBook-Pro.local

2019-03-14 16:16:12,433 ERROR 61431 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:61431)
    at /Users/richard/github/IntelligentTourMap/app/service/base.js:31:13
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 61431
hostname: richard-MacBook-Pro.local

2019-03-14 16:16:13,107 ERROR 61431 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 2 times on pid:61431)
    at /Users/richard/github/IntelligentTourMap/app/service/base.js:31:13
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 61431
hostname: richard-MacBook-Pro.local

2019-03-14 16:16:36,193 ERROR 61502 nodejs.ReferenceError: resolve is not defined (uncaughtException throw 1 times on pid:61502)
    at /Users/richard/github/IntelligentTourMap/app/service/base.js:31:13
    at result (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:414:17)
    at executeCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:406:9)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at cursor.close (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/operations/cursor_ops.js:224:62)
    at handleCallback (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/utils.js:128:55)
    at completeClose (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:893:14)
    at _endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:904:37)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb-core/lib/cursor.js:195:5)
    at Cursor._endSession (/Users/richard/github/IntelligentTourMap/node_modules/mongodb/lib/cursor.js:226:59)

pid: 61502
hostname: richard-MacBook-Pro.local

2019-03-14 16:20:32,790 ERROR 61772 nodejs.ServerNoResponseError: server 127.0.0.1:50177 no response in 20979ms, maybe the socket is end on the other side. (address: 127.0.0.1:50177)
    at Timeout._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/tcp-base/lib/base.js:427:21)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ServerNoResponseError"
pid: 61772
hostname: richard-MacBook-Pro.local

2019-03-14 16:56:31,650 ERROR 63689 [-/127.0.0.1/-/7ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63689
hostname: richard-MacBook-Pro.local

2019-03-14 17:00:12,312 ERROR 63944 [-/127.0.0.1/-/7ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find /map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63944
hostname: richard-MacBook-Pro.local

2019-03-14 17:00:13,530 ERROR 63944 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find /map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63944
hostname: richard-MacBook-Pro.local

2019-03-14 17:00:26,156 ERROR 63956 [-/127.0.0.1/-/7ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find ../views/map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63956
hostname: richard-MacBook-Pro.local

2019-03-14 17:01:02,610 ERROR 63976 [-/127.0.0.1/-/7ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find news/map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63976
hostname: richard-MacBook-Pro.local

2019-03-14 17:01:03,570 ERROR 63976 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find news/map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63976
hostname: richard-MacBook-Pro.local

2019-03-14 17:01:04,078 ERROR 63976 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find news/map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63976
hostname: richard-MacBook-Pro.local

2019-03-14 17:01:04,302 ERROR 63976 [-/127.0.0.1/-/0ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find news/map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63976
hostname: richard-MacBook-Pro.local

2019-03-14 17:01:04,512 ERROR 63976 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find news/map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63976
hostname: richard-MacBook-Pro.local

2019-03-14 17:01:04,751 ERROR 63976 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find news/map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63976
hostname: richard-MacBook-Pro.local

2019-03-14 17:01:04,835 ERROR 63976 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find news/map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63976
hostname: richard-MacBook-Pro.local

2019-03-14 17:01:05,017 ERROR 63976 [-/127.0.0.1/-/0ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find news/map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 63976
hostname: richard-MacBook-Pro.local

2019-03-14 17:09:24,774 ERROR 64351 [-/127.0.0.1/-/7ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64351
hostname: richard-MacBook-Pro.local

2019-03-14 17:09:33,335 ERROR 64351 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64351
hostname: richard-MacBook-Pro.local

2019-03-14 17:09:34,118 ERROR 64351 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64351
hostname: richard-MacBook-Pro.local

2019-03-14 17:09:34,344 ERROR 64351 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64351
hostname: richard-MacBook-Pro.local

2019-03-14 17:09:34,557 ERROR 64351 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map.html from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64351
hostname: richard-MacBook-Pro.local

2019-03-14 17:10:05,726 ERROR 64447 [-/127.0.0.1/-/7ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64447
hostname: richard-MacBook-Pro.local

2019-03-14 17:10:06,492 ERROR 64447 [-/127.0.0.1/-/0ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64447
hostname: richard-MacBook-Pro.local

2019-03-14 17:10:06,708 ERROR 64447 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64447
hostname: richard-MacBook-Pro.local

2019-03-14 17:10:06,944 ERROR 64447 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64447
hostname: richard-MacBook-Pro.local

2019-03-14 17:10:07,167 ERROR 64447 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64447
hostname: richard-MacBook-Pro.local

2019-03-14 17:10:07,231 ERROR 64447 [-/127.0.0.1/-/0ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64447
hostname: richard-MacBook-Pro.local

2019-03-14 17:12:16,944 ERROR 64447 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64447
hostname: richard-MacBook-Pro.local

2019-03-14 17:12:18,137 ERROR 64447 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find map from 
    at Map.resolve (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/view_manager.js:74:5)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64447
hostname: richard-MacBook-Pro.local

2019-03-14 17:13:30,734 ERROR 64795 [-/127.0.0.1/-/9ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find ViewEngine "ejs"
    at ContextView.[contextView#getViewEngine] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:88:5)
    at ContextView.[contextView#render] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:69:39)
    at <anonymous>
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64795
hostname: richard-MacBook-Pro.local

2019-03-14 17:15:43,770 ERROR 64795 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find ViewEngine "ejs"
    at ContextView.[contextView#getViewEngine] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:88:5)
    at ContextView.[contextView#render] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:69:39)
    at <anonymous>
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64795
hostname: richard-MacBook-Pro.local

2019-03-14 17:16:00,614 ERROR 64923 [-/127.0.0.1/-/8ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find ViewEngine "ejs"
    at ContextView.[contextView#getViewEngine] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:88:5)
    at ContextView.[contextView#render] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:69:39)
    at <anonymous>
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64923
hostname: richard-MacBook-Pro.local

2019-03-14 17:16:01,260 ERROR 64923 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find ViewEngine "ejs"
    at ContextView.[contextView#getViewEngine] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:88:5)
    at ContextView.[contextView#render] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:69:39)
    at <anonymous>
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64923
hostname: richard-MacBook-Pro.local

2019-03-14 17:16:01,477 ERROR 64923 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find ViewEngine "ejs"
    at ContextView.[contextView#getViewEngine] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:88:5)
    at ContextView.[contextView#render] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:69:39)
    at <anonymous>
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64923
hostname: richard-MacBook-Pro.local

2019-03-14 17:16:01,684 ERROR 64923 [-/127.0.0.1/-/1ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find ViewEngine "ejs"
    at ContextView.[contextView#getViewEngine] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:88:5)
    at ContextView.[contextView#render] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:69:39)
    at <anonymous>
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64923
hostname: richard-MacBook-Pro.local

2019-03-14 17:16:01,902 ERROR 64923 [-/127.0.0.1/-/0ms GET /] nodejs.AssertionError [ERR_ASSERTION]: Can't find ViewEngine "ejs"
    at ContextView.[contextView#getViewEngine] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:88:5)
    at ContextView.[contextView#render] (/Users/richard/github/IntelligentTourMap/node_modules/egg-view/lib/context_view.js:69:39)
    at <anonymous>
generatedMessage: false
name: "AssertionError [ERR_ASSERTION]"
code: "ERR_ASSERTION"
actual: undefined
expected: true
operator: "=="
pid: 64923
hostname: richard-MacBook-Pro.local

2019-03-18 10:35:54,985 ERROR 89401 [-/127.0.0.1/-/24ms POST /common/login] nodejs.ReferenceError: ctx is not defined
    at CommonController.login (/Users/richard/github/IntelligentTourMap/app/controller/common.js:31:40)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at /Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:36:12

pid: 89401
hostname: richard-MacBook-Pro.local

2019-03-18 10:35:56,163 ERROR 89401 [-/127.0.0.1/-/2ms POST /common/login] nodejs.ReferenceError: ctx is not defined
    at CommonController.login (/Users/richard/github/IntelligentTourMap/app/controller/common.js:31:40)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at /Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:36:12

pid: 89401
hostname: richard-MacBook-Pro.local

2019-03-18 10:36:42,569 ERROR 89430 [-/127.0.0.1/-/16355ms POST /common/login] nodejs.ReferenceError: ctx is not defined
    at CommonController.login (/Users/richard/github/IntelligentTourMap/app/controller/common.js:32:40)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at /Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:36:12

pid: 89430
hostname: richard-MacBook-Pro.local

2019-03-18 10:37:32,800 ERROR 89476 [-/127.0.0.1/-/17103ms POST /common/login] nodejs.TypeError: Cannot read property 'trim' of undefined
    at CommonController.login (/Users/richard/github/IntelligentTourMap/app/controller/common.js:34:22)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/richard/github/IntelligentTourMap/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at next (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:45:18)
    at /Users/richard/github/IntelligentTourMap/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:44:32)
    at /Users/richard/github/IntelligentTourMap/node_modules/koa-compose/index.js:36:12

pid: 89476
hostname: richard-MacBook-Pro.local

2019-03-18 10:56:32,746 ERROR 89900 nodejs.ClusterClientNoResponseError: client no response in 68671ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 89900
hostname: richard-MacBook-Pro.local

2019-03-18 11:10:32,875 ERROR 89900 nodejs.ClusterClientNoResponseError: client no response in 79761ms exceeding maxIdleTime 60000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (/Users/richard/github/IntelligentTourMap/node_modules/cluster-client/lib/leader.js:77:23)
    at ontimeout (timers.js:482:11)
    at tryOnTimeout (timers.js:317:5)
    at Timer.listOnTimeout (timers.js:277:5)
name: "ClusterClientNoResponseError"
pid: 89900
hostname: richard-MacBook-Pro.local

2019-03-18 11:12:32,439 ERROR 90506 [-/127.0.0.1/-/3214ms POST /common/login] nodejs.Error: non-error thrown: !
    at Object.app.context.onerror (/Users/richard/github/IntelligentTourMap/node_modules/koa-onerror/index.js:39:24)
    at onerror (/Users/richard/github/IntelligentTourMap/node_modules/koa/lib/application.js:148:32)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)

pid: 90506
hostname: richard-MacBook-Pro.local

